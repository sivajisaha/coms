(self.webpackChunklite=self.webpackChunklite||[]).push([[3496],{42130:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function o(){return(o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var a=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.39 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.4.59.56 0 1.03-.2 1.42-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.6-1.41A1.93 1.93 0 0 0 6.4 10c-.55 0-1.02.2-1.41.59-.4.39-.6.86-.6 1.41zM10 12c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59.54 0 1.02-.2 1.4-.59.4-.39.6-.86.6-1.41 0-.55-.2-1.02-.6-1.41a1.93 1.93 0 0 0-1.4-.59c-.55 0-1.04.2-1.42.59-.4.39-.58.86-.58 1.41zm5.6 0c0 .55.2 1.02.57 1.41.4.4.88.59 1.43.59.57 0 1.04-.2 1.43-.59.39-.39.57-.86.57-1.41 0-.55-.2-1.02-.57-1.41A1.93 1.93 0 0 0 17.6 10c-.55 0-1.04.2-1.43.59-.38.39-.57.86-.57 1.41z",fill:"#000"});const l=function(e){return i.createElement("svg",o({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),a)}},24415:(e,n,t)=>{"use strict";t.d(n,{c:()=>u});var i=t(67154),o=t.n(i),a=t(6479),l=t.n(a),r=t(67294),s=t(6729),d=t(93310),c=t(42130),u=function(e){var n=e.iconStyle,t=void 0===n?"ICON":n,i=l()(e,["iconStyle"]);return r.createElement(d.r,o()({rules:["ICON_SUBTLE"===t?s.OL:s.Yq,{padding:"8px"}]},i),r.createElement(c.Z,null))}},48172:(e,n,t)=>{"use strict";t.d(n,{g:()=>l});var i=t(319),o=t.n(i),a=t(46732),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}].concat(o()(a.JP.definitions))}},75150:(e,n,t)=>{"use strict";t.d(n,{T:()=>p});var i=t(67294),o=t(27517),a=t(13195),l=t(76589),r=t(39507),s=t(38352),d=t(93310),c=t(83486),u=t(43487),m=t(51681),p=function(e){var n=e.post,t=e.hidePopover,p=(0,l.H)().value,v=null==p?void 0:p.id,k=(0,r.T)(n).viewerEdge,f=(0,o.I0)(),g=i.useCallback((function(e){return f((0,c.at)(e))}),[f]),b=(0,u.b$)((function(e){return e.multiVote.clapsPerPost})),y=(0,m.l)(b,n,k),h=y.clapCount,E=y.viewerClapCount,S=(0,a.CP)();return v&&h&&E&&E>0?i.createElement(s.Sl,null,i.createElement(d.r,{onClick:function(){S(n,(null==p?void 0:p.id)||"",-E,k),g({postId:n.id,clapCount:h-E,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),t()}},"Undo applause for this post")):null}},6419:(e,n,t)=>{"use strict";t.d(n,{g:()=>u,H:()=>m});var i=t(28655),o=t.n(i),a=t(92471),l=t(32493),r=t(67294),s=t(27517),d=t(78285);function c(){var e=o()(["\n  mutation UserReportStoryMutation(\n    $targetPostId: ID!\n    $targetAuthorId: ID!\n    $alsoBlockAuthor: Boolean!\n    $reason: String!\n  ) {\n    reportStoryAndMaybeBlockAuthor(\n      targetPostId: $targetPostId\n      targetAuthorId: $targetAuthorId\n      alsoBlockAuthor: $alsoBlockAuthor\n      reason: $reason\n    ) {\n      __typename\n      id\n      viewerEdge {\n        __typename\n        id\n        isBlocking\n      }\n    }\n  }\n"]);return c=function(){return e},e}var u=(0,a.Ps)(c()),m=(0,s.$j)()((function(e){var n=e.targetAuthorId,t=e.targetPostId,i=e.dispatch,o=e.children,a=e.onOptimisticComplete,s=e.isBlocking,c=e.viewerId;return r.createElement(l.m,{mutation:u,onCompleted:function(){i((0,d.Dx)({message:"Successfully reported post."}))}},(function(e){return o({mutate:function(i,o){var l=e({variables:{targetAuthorId:n,targetPostId:t,alsoBlockAuthor:i,reason:o},optimisticResponse:{__typename:"Mutation",reportStoryAndMaybeBlockAuthor:{__typename:"User",id:n,viewerEdge:{__typename:"UserViewerEdge",id:"userId:".concat(n,"-viewerId:").concat(c),isBlocking:s||i}}}});return a&&a(),l}})}))}))},91727:(e,n,t)=>{"use strict";t.d(n,{S:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isAuthorNewsletter"}}]}}]}},31048:(e,n,t)=>{"use strict";t.d(n,{w4:()=>R,SX:()=>A});var i=t(59713),o=t.n(i),a=t(63038),l=t.n(a),r=t(28655),s=t.n(r),d=t(92471),c=t(21919),u=t(67294),m=t(25267),p=t(38352),v=t(93310),k=t(77355),f=t(1383),g=t(87691),b=t(14646),y=t(78285);function h(){return(h=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var E=u.createElement("path",{d:"M0 .35v15.3h20V.35H0zm6.95 9.38l3.05 2.5 3.05-2.5 4.88 4.73H2.07l4.88-4.73zM1.2 13.64V5.02l4.82 3.94-4.82 4.68zm12.78-4.68l4.82-3.94v8.62l-4.82-4.68zm4.82-7.42v1.94l-8.8 7.2-8.8-7.2V1.54h17.6z"});const S=function(e){return u.createElement("svg",h({width:20,height:16,viewBox:"0 0 20 16"},e),E)};var C=t(68894);function N(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function P(){var e=s()(["\n  mutation sendPostAsEmails($postId: ID!) {\n    sendPostAsEmails(postId: $postId)\n  }\n"]);return P=function(){return e},e}function I(){var e=s()(["\n  fragment NewsletterV3EmailToSubscribersMenuItem_post on Post {\n    id\n    creator {\n      id\n      newsletterV3 {\n        id\n        subscribersCount\n      }\n    }\n    isNewsletter\n    isAuthorNewsletter\n  }\n"]);return I=function(){return e},e}function x(e){return{fill:e.baseColor.fill.lighter}}var F={height:"16px",width:"16px",marginLeft:"4px"},A=(0,d.Ps)(I()),O=(0,d.Ps)(P());function R(e){var n=e.post,t=e.onClick,i=e.menuStyle,o=(0,b.I)(),a=(0,C.O)(!1),r=l()(a,3),s=r[0],d=r[1],h=r[2],E=(0,y.w)(),N=function(){h(),t()},P=(0,c.D)(O,{variables:{postId:(null==n?void 0:n.id)||""},onCompleted:function(e){var n=e.sendPostAsEmails;E(n?{message:"Your story has been emailed to subscribers.",toastStyle:"MESSAGE",duration:2e3}:{message:"We couldn't process your request. Try again, or contact our support team.",toastStyle:"ERROR",duration:2e3})},update:function(e,t){var i,o={id:"Post:".concat(null==n?void 0:n.id),fragment:A,fragmentName:"NewsletterV3EmailToSubscribersMenuItem_post"},a=e.readFragment(o);e.writeFragment(w(w({},o),{},{data:w(w({},a),{},{isAuthorNewsletter:null===(i=t.data)||void 0===i?void 0:i.sendPostAsEmails})}))}}),I=l()(P,1)[0];return u.createElement(m.I,null,(function(e){var a,l,r;return e&&e.id===(null==n||null===(a=n.creator)||void 0===a?void 0:a.id)&&(null==n||!n.isNewsletter)&&((null==n||null===(l=n.creator)||void 0===l||null===(r=l.newsletterV3)||void 0===r?void 0:r.subscribersCount)||0)>0?u.createElement(u.Fragment,null,u.createElement(p.Sl,{paddingTopBottom:"8px"},u.createElement(v.r,{onClick:function(){null!=n&&n.isAuthorNewsletter?(E({message:"Youâ€™ve already sent this story to subscribers.",toastStyle:"ERROR",duration:2e3}),t()):d()}},"TEXT"===i?u.createElement(k.x,{display:"inline-block"},u.createElement(g.F,{scale:"M"},"Email to subscribers")):u.createElement(k.x,{display:"inline-block"},u.createElement(S,{className:o([x,F])}),u.createElement(k.x,{display:"inline-block",marginLeft:"20px"},u.createElement(g.F,{scale:"S"},"Email to subscribers"))))),u.createElement(f.Q,{onConfirm:function(){I(),N()},isVisible:s,hide:N,titleText:"Email to subscribers",confirmText:"Send",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!0,withCloseButton:!0,isDestructiveAction:!1},"A link to this story will be emailed to all your subscribers.")):u.createElement(u.Fragment,null)}))}},16880:(e,n,t)=>{"use strict";t.d(n,{$:()=>m});var i=t(28655),o=t.n(i),a=t(92471),l=t(67294),r=t(38352),s=t(95445),d=t(78870),c=t(50458);function u(){var e=o()(["\n  fragment CopyFriendLinkMenuItem_post on Post {\n    id\n  }\n"]);return u=function(){return e},e}var m=function(e){var n=e.post,t=e.shareKey;return n&&t?l.createElement(r.Sl,null,l.createElement(s.b,{url:(0,d.Rk)((0,c.jVf)(n),{sk:t}),linkStyle:"SUBTLE"},(function(e){return e?"Copied!":"Copy Friend Link"}))):null};(0,a.Ps)(u())},76101:(e,n,t)=>{"use strict";t.d(n,{r:()=>h});var i=t(63038),o=t.n(i),a=t(67294),l=t(28655),r=t.n(l),s=t(92471),d=t(32493),c=t(27517),u=t(78285);function m(){var e=r()(["\n  mutation PostAllowResponsesMutation($targetPostId: ID!, $allowResponses: Boolean!) {\n    setPostAllowResponses(targetPostId: $targetPostId, allowResponses: $allowResponses) {\n      id\n      allowResponses\n    }\n  }\n"]);return m=function(){return e},e}var p=(0,s.Ps)(m()),v=(0,c.$j)()((function(e){var n=e.children,t=e.dispatch,i=e.onCompleted,o=e.targetPostId;return a.createElement(d.m,{mutation:p,onCompleted:function(){t((0,u.Dx)({message:"Responses are now hidden for this post."})),i&&i()},variables:{targetPostId:o,allowResponses:!1},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!1}}},(function(e){return n({mutate:e})}))})),k=(0,c.$j)()((function(e){var n=e.children,t=e.dispatch,i=e.onCompleted,o=e.targetPostId;return a.createElement(d.m,{mutation:p,onCompleted:function(){t((0,u.Dx)({message:"Responses are now shown for this post."})),i&&i()},variables:{targetPostId:o,allowResponses:!0},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!0}}},(function(e){return n({mutate:e})}))})),f=t(75675),g=t(38352),b=t(93310),y=t(68894),h=function(e){var n=e.hidePopover,t=e.postId,i=e.allowResponses,l=(0,y.O)(!1),r=o()(l,3),s=r[0],d=r[1],c=r[2],u=function(){c(),n()};return a.createElement(a.Fragment,null,a.createElement(v,{targetPostId:t},(function(e){var n=e.mutate;return a.createElement(f.w,{onConfirm:n,isVisible:s,hide:u,entityTypename:"Post"})})),a.createElement(k,{targetPostId:t},(function(e){var n=e.mutate;return a.createElement(g.Sl,null,a.createElement(b.r,{onClick:function(){i?d():n()}},i?"Hide responses":"Show responses"))})))}},94630:(e,n,t)=>{"use strict";t.d(n,{G:()=>c});var i=t(319),o=t.n(i),a=t(92001),l=t(93647),r=t(36736),s=t(91727),d=t(48172),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorActionOverflowPopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_creator"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsPinnedInContext_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"}}]}}].concat(o()(a.m.definitions),o()(l.C.definitions),o()(a.G.definitions),o()(r.x.definitions),o()(s.S.definitions),o()(d.g.definitions))}},79609:(e,n,t)=>{"use strict";t.d(n,{Z:()=>ge});var i=t(63038),o=t.n(i),a=t(48403),l=t.n(a),r=t(67294),s=t(24415),d=t(75150),c=t(32947),u=t(87166),m=t(66021),p=t(90833),v=t(31048),k=t(16880),f=t(76101),g=t(75412),b=t(71652),y=t(319),h=t.n(y),E=t(84683),S={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionSubmissionOption_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}}].concat(h()(E.d.definitions))},C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionSubmissionPopoverQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"writerCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionOption_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"adminCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionOption_collection"}}]}}]}}]}}].concat(h()(S.definitions))},N=t(8981),w=t(25267),P=t(38352),I=t(77355),x=t(93310),F=t(91583),A=t(47230),O=t(66227),R=t(73917),D=t(70310),_=t(87691),T=t(20113),V=t(90586),B=t(34135),M="collectionSubmissionPopover",$=[{name:"",value:"No publication",content:r.createElement(I.x,{height:"32px",display:"flex",alignItems:"center",marginLeft:"5px"},r.createElement(_.F,{scale:"M",color:"DARKER"},"No publication"))}];function j(e){var n=e.collection;return n.name?r.createElement(I.x,{display:"flex",justifyContent:"space-between",width:"200px",alignItems:"center",marginLeft:"5px"},r.createElement(_.F,{scale:"M",color:"DARKER"},n.name),r.createElement(b.v,{collection:n,size:32})):null}function L(e){var n=e.show,t=e.post,i=t.statusForCollection,a=t.isPublished,l=r.useState(!1),s=o()(l,2),d=s[0],c=s[1];return d||B.V6.on("load",(function(){return c(!0)})),!i&&a&&d?r.createElement(z,{post:t,noQueryReturn:null},(function(e){var i=e.loading,o=e.error,a=e.data;if(i||o)return null;var l=(void 0===a?{viewer:void 0}:a).viewer,s=t.creator;if(!l||!s||l.id!==s.id)return null;var d=l.adminCollections,c=l.writerCollections;return 0===d.length&&0===c.length?null:r.createElement(P.Sl,null,r.createElement(x.r,{"aria-controls":M,"aria-expanded":"false",onClick:n},"Add to publication"))})):null}function U(e){var n=e.isVisible,t=e.hide;return r.createElement(F.V,{isVisible:n,hide:t,withCloseButton:!0},r.createElement(I.x,{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",maxWidth:"480px"},r.createElement(T.X6,{scale:"M",tag:"h3"},"Story submitted"),r.createElement(I.x,{paddingTop:"8px",paddingBottom:"24px"},r.createElement(V.QE,{scale:"M"},"Weâ€™ll email you when the publication editor has reviewed your submission.")),r.createElement(A.z,{buttonStyle:"OBVIOUS",onClick:t},"OK")))}var z=function(e){var n=e.children,t=e.post,i=e.noQueryReturn,o=t.creator;return o?r.createElement(w.I,null,(function(e){return e?e.id!==o.id?i:r.createElement(g.A,{query:C,ssr:!1},(function(e){var t=e.loading,i=e.error,o=e.data;return n({loading:t,error:i,data:o})})):i})):i},H=function(e){var n=e.post,t=e.hide,i=e.showLoadingIndicator,a=e.isVisible,l=e.children,s=r.useState(!1),d=o()(s,2),c=d[0],u=d[1],m=r.useState(""),p=o()(m,2),v=p[0],k=p[1],f=(0,N.h3)(n),g=(0,N.Lf)(n);return c||B.V6.on("load",(function(){return u(!0)})),n.isPublished&&c?r.createElement(O.B,null,(function(e){var o=e.isVisible,s=e.hide,d=e.show;return r.createElement(r.Fragment,null,r.createElement(U,{hide:s,isVisible:o}),r.createElement(z,{post:n,noQueryReturn:l},(function(e){var o=e.loading,s=e.error,c=e.data;if(o||s)return l;var u=(void 0===c?{viewer:void 0}:c).viewer,m=n.creator;if(!u||!m||u.id!==m.id)return l;var p=u.adminCollections,b=u.writerCollections;if(0===p.length&&0===b.length)return l;var y=p.concat(b).filter((function(e){return!!e&&!!e.slug&&!!e.name})).map((function(e){return{name:e.slug||"",value:e.name||"",content:r.createElement(j,{collection:e})}})),h=$.concat(y),E=p.reduce((function(e,n){return e[n.slug||""]=n,e}),{}),S=b.reduce((function(e,n){return e[n.slug||""]=n,e}),{}),C="";if(v){var N=h.find((function(e){return e.name===v}));N&&(C=N.value)}var w="addStoryToPublicationTitle";return r.createElement(R.J,{ariaId:M,hide:t,isVisible:a,popoverRenderFn:function(){return r.createElement(I.x,{padding:"20px",width:"280px",display:"flex",flexDirection:"column"},r.createElement(_.F,{scale:"M",color:"DARKER",ariaLabelledById:w},"Add your story to a publication:"),r.createElement(I.x,{marginTop:"10px",position:"relative"},r.createElement(I.x,{position:"absolute",height:"16px",width:"100%",bottom:"0",zIndex:"100",backgroundImage:"linear-gradient(transparent, #ffffff)"}),r.createElement(I.x,{maxHeight:"160px",overflow:"auto"},r.createElement(D.E,{value:C,onChange:k,options:h,radioButtonsName:"addStory",ariaLabelledBy:w}))),r.createElement(I.x,{display:"flex",marginTop:"20px"},v in E?r.createElement(A.z,{onClick:function(){var e=E[v];t(),i(),f(e).then((function(){window.location.reload()}))},buttonStyle:"OBVIOUS"},"Add story"):r.createElement(A.z,{onClick:function(){var e=S[v];g(e),t(),d()},disabled:!v},"Submit"),r.createElement(I.x,{marginLeft:"10px"},r.createElement(_.F,{scale:"M",color:"LIGHTER"},r.createElement(x.r,{onClick:t},r.createElement(I.x,{padding:"10px"},"Cancel"))))),r.createElement(I.x,{marginTop:"10px"},r.createElement(_.F,{scale:"M"},"This story will be automatically submitted to the publication. When you submit your story, the publication's editors will be notified and will be able to edit your story.")))}},l)})))})):l},K=t(27517),G=t(78285),Q=function(e){var n=e.children,t=e.isVisible,i=e.post,o=e.hide,a=e.showLoadingIndicator,l=(0,N.h3)(i),s=(0,N.yb)(i),d=(0,K.I0)(),c=i.pendingCollection;return c?r.createElement(R.J,{ariaId:"manageSubmissionPopover",isVisible:t,hide:o,popoverRenderFn:function(){return r.createElement(I.x,{padding:"16px",maxWidth:"280px"},r.createElement(I.x,{display:"flex",flexDirection:"row",alignItems:"center"},r.createElement(I.x,{paddingRight:"8px"},r.createElement(b.v,{collection:c,size:40})),r.createElement(_.F,{scale:"S"},"This draft is submitted to ",c.name,".")),r.createElement(I.x,{flexDirection:"row",display:"flex",paddingTop:"16px"},r.createElement(I.x,{paddingRight:"8px"},r.createElement(A.z,{buttonStyle:"OBVIOUS",onClick:function(){o(),a(),l(i.pendingCollection).then((function(){window.location.reload()}))}},"Accept")),r.createElement(A.z,{buttonStyle:"SUBTLE",onClick:function(){s(i.pendingCollection).then((function(){d((0,G.Dx)({message:"Story removed from ".concat(c.name||"publication")}))})),o()}},"Don't accept")))}},n):n},Y=function(e,n){return n&&e.creator&&n.id===e.creator.id},W=t(67701),Z="removeFromPublicationPopover",X=function(e){var n=e.viewer,t=e.show,i=e.post,o=(0,W.gY)(i.pendingCollection||i.collection).viewerEdge,a=null==o?void 0:o.isEditor;return n&&("APPROVED"===i.statusForCollection&&(a||function(e,n){var t=e.pendingCollection||e.collection;return t&&t.creator&&n.id===t.creator.id}(i,n)||Y(i,n))||"PENDING"===i.statusForCollection&&Y(i,n))?r.createElement(P.Sl,null,r.createElement(x.r,{"aria-controls":Z,"aria-expanded":"false",onClick:t},"Remove story from publication")):null},q=function(e){var n=e.children,t=e.isVisible,i=e.hide,o=e.post,a=e.viewer,l=(0,K.I0)(),s=(0,N.yb)(o),d=o.collection||o.pendingCollection;return d?r.createElement(R.J,{ariaId:Z,isVisible:t,hide:i,popoverRenderFn:function(){return r.createElement(I.x,{padding:"16px",maxWidth:"280px"},r.createElement(I.x,{display:"flex",flexDirection:"row",alignItems:"center"},r.createElement(I.x,{paddingRight:"8px"},r.createElement(b.v,{collection:d,size:40})),"APPROVED"===o.statusForCollection?r.createElement(_.F,{scale:"S"},Y(o,a)?"Your":"This"," story is published in"," ",d.name,"."):"PENDING"===o.statusForCollection?r.createElement(_.F,{scale:"S"},"Your story is being reviewed by ",d.name," editors."):r.createElement(_.F,{scale:"S"},"This draft is submitted to ",d.name)),r.createElement(I.x,{flexDirection:"row",display:"flex",paddingTop:"16px"},r.createElement(I.x,{paddingRight:"8px"},r.createElement(A.z,{buttonStyle:"SUBTLE",onClick:function(){s(d).then((function(){l((0,G.Dx)({message:"Story removed from ".concat(d.name||"publication")}))}),(function(){l((0,G.Dx)({message:"There was a problem removing the story from ".concat(d.name||"publication"),toastStyle:"ERROR"}))})),i()}},"PENDING"===o.statusForCollection?"Cancel submission":"Remove from ".concat(d.name||"")))))}},n):n},J=t(43220),ee=t(48502),ne=t(74302),te=t(36405),ie=t(76589),oe=t(39507),ae=t(18733),le=t(26350),re=t(13256),se=t(75765),de=t(37774),ce=t(1383),ue=t(14646),me=t(75221),pe=t(43487),ve=t(43303),ke=t(68894),fe=t(50458),ge=function(e){var n,t,i=e.creator,a=e.post,g=e.collection,b=e.showLoadingIndicator,y=e.setIsAuthorOrPubMuted,h=e.setMutedAuthorId,E=e.setMutedPubId,S=e.isMutingFromHomeFeed,C=e.hideUndoApplause,N=void 0!==C&&C,w=e.iconStyle,F=r.useState(!1),A=o()(F,2),O=A[0],D=A[1],_=r.useState(!1),T=o()(_,2),V=T[0],B=T[1],M=r.useState(!1),$=o()(M,2),j=$[0],U=$[1],z=(0,ue.I)(),K=(0,ae.Uo)(),Y=a.allowResponses,Z=a.pendingCollection,ge=a.mediumUrl,be=a.visibility,ye=(0,W.gY)(g).viewerEdge,he=(0,W.gY)(Z).viewerEdge,Ee=(0,oe.T)(a).viewerEdge,Se=(0,G.w)(),Ce=(0,ie.H)().value,Ne=null==Ce?void 0:Ce.id,we=a.responseDistribution===me.Et.DISTRIBUTED,Pe=!!a.inResponseToPostResult||!!a.inResponseToCatalogResult,Ie=Pe?"response":"story",xe=(0,ee.KQ)(a),Fe=o()(xe,2),Ae=Fe[0],Oe=Fe[1],Re=(0,J.UL)(a.collection),De=(0,J.UL)(a.creator),_e=r.useCallback((function(e){var n;Se({extraParams:{collectionName:(null===(n=a.collection)||void 0===n?void 0:n.name)||"",becamePinned:!!e.data.setPinnedAt.pinnedAt},toastStyle:"POST_PINNED_TO_COLLECTION_HOMEPAGE"})}),[null===(n=a.collection)||void 0===n?void 0:n.name]),Te=r.useCallback((function(e){Se({message:e.data.postSetPinnedByCreatorAt.pinnedByCreatorAt?"This ".concat(Ie," has been pinned to your profile's homepage"):"This ".concat(Ie," has been unpinned from your profile's homepage")})}),[]),Ve=r.useCallback((function(){Oe().then(_e)}),[Oe,_e,null==a||null===(t=a.collection)||void 0===t?void 0:t.name]),Be=(0,ee.In)(a),Me=o()(Be,2),$e=Me[0],je=Me[1],Le=r.useCallback((function(){je().then(Te)}),[je,Te]),Ue=(0,pe.v9)((function(e){return e.config.authDomain})),ze=r.useState(!1),He=o()(ze,2),Ke=He[0],Ge=He[1],Qe=(0,ke.O)(!1),Ye=o()(Qe,3),We=Ye[0],Ze=Ye[1],Xe=Ye[2],qe=(0,ke.O)(!1),Je=o()(qe,4),en=Je[0],nn=Je[2],tn=Je[3],on=(0,u.j)(a.id),an=o()(on,1)[0],ln=(0,ke.O)(!1),rn=o()(ln,3),sn=rn[0],dn=rn[1],cn=rn[2],un=r.useCallback((function(){an().then((function(){return window.location.reload()}))}),[an]),mn="Delete story";we?mn="Delete story and response":Pe&&(mn="Delete response");var pn=we?ne.Q:"Are you sure you want to delete this ".concat(Ie,"?"),vn=(0,te.P5)("can_edit_members_only_posts");if(!i||!Ce)return null;var kn=Ne===i.id,fn=(null==ye?void 0:ye.isEditor)||(null==he?void 0:he.isEditor),gn=kn||fn,bn=vn&&a&&a.isLocked,yn=gn||bn,hn="creatorActionOverflowMenu",En="LOCKED"===be,Sn=fn&&!kn||!gn,Cn=!Pe||we,Nn=function(){we&&(nn(),Ze())};return Ke?r.createElement(p.l,{to:(0,fe.d0A)(Ue,a.id)}):r.createElement(r.Fragment,null,r.createElement(ce.Q,{buttonStyle:"STRONG",cancelText:"Cancel",isVisible:We,onConfirm:function(){Ge(!0)},hide:Xe,titleText:"Edit story and response",confirmText:"Continue",isDestructiveAction:!1},ne.t),r.createElement(ce.Q,{buttonStyle:"ERROR",cancelText:"Cancel",isVisible:sn,onConfirm:un,hide:cn,titleText:mn,confirmText:"Delete",isDestructiveAction:!0},pn),r.createElement(R.J,{ariaId:hn,isVisible:en,hide:nn,popoverRenderFn:function(){return r.createElement(P.mX,null,r.createElement(r.Fragment,null,r.createElement(c.l,{type:"popover",handleClick:Nn,href:(0,fe.d0A)(Ue,a.id),isVisible:!!yn},"Edit ",Ie),g&&fn&&Re&&Cn&&r.createElement(P.Sl,null,r.createElement(x.r,{onClick:Ve},Ae?"Unpin this ".concat(Ie," from "):"Pin this ".concat(Ie," to "),g.name)),kn&&De&&Cn&&r.createElement(P.Sl,null,r.createElement(x.r,{onClick:Le},$e?"Unpin this ".concat(Ie," from your profile"):"Pin this ".concat(Ie," to your profile"))),r.createElement(v.w4,{post:a,onClick:nn,menuStyle:"TEXT"}),gn?r.createElement(r.Fragment,null,r.createElement(P.oK,null),r.createElement(P.Sl,null,r.createElement(x.r,{href:(0,fe.KIb)(Ue,a.id)},l()(Ie)," settings"))):null,gn&&r.createElement(P.Sl,null,r.createElement(x.r,{href:(0,fe.T0G)(Ue,a.id)},l()(Ie)," stats")),gn&&En&&ge&&(null==Ee?void 0:Ee.shareKey)&&r.createElement(k.$,{post:a,shareKey:null==Ee?void 0:Ee.shareKey}),gn&&r.createElement(P.oK,null),gn?r.createElement(r.Fragment,null,r.createElement(f.r,{hidePopover:nn,postId:a.id,allowResponses:Y}),r.createElement(L,{post:a,show:function(){B(!0),nn()}}),r.createElement(X,{viewer:Ce,post:a,show:function(){U(!0),nn()}}),kn&&r.createElement(P.Sl,null,r.createElement("div",{className:z({color:K.baseTheme.errorColor})},r.createElement(x.r,{onClick:(0,ve.B)(nn,dn)},"Delete ",Ie)))):null,Sn?r.createElement(r.Fragment,null,fn&&r.createElement(P.oK,null),!N&&r.createElement(d.T,{post:a,hidePopover:nn}),r.createElement(r.Fragment,null,Ne?r.createElement(de.z,{targetUserId:i.id,postId:a.id,hidePopover:nn,viewerId:Ne}):r.createElement(P.Sl,null,r.createElement(le.R,{operation:"register",post:a,susiEntry:"report_footer"},"Report this ",Ie))),r.createElement(m.q,{hidePopover:nn,creator:i,collection:g,postId:a.id,setIsAuthorOrPubMuted:y,setMutedAuthorId:h,setMutedPubId:E,isMutingFromHomeFeed:S}),r.createElement(re.F,{hidePopover:nn,creator:i,viewer:Ce}),r.createElement(se.j,{hidePopover:nn,creator:i,viewer:Ce})):null))}},r.createElement(H,{post:a,isVisible:V,hide:function(){B(!1)},showLoadingIndicator:b},r.createElement(q,{viewer:Ce,post:a,isVisible:j,hide:function(){U(!1)}},r.createElement(Q,{post:a,isVisible:O,hide:function(){D(!1)},showLoadingIndicator:b},r.createElement(I.x,{flexGrow:"0",marginRight:"-4px"},r.createElement(s.c,{"aria-controls":hn,"aria-expanded":en?"true":"false","aria-label":"More options",onClick:tn,iconStyle:w})))))))}},8981:(e,n,t)=>{"use strict";t.d(n,{Lf:()=>k,h3:()=>f,yb:()=>g});var i=t(63038),o=t.n(i),a=t(28655),l=t.n(a),r=t(92471),s=t(21919),d=t(67294),c=t(97217);function u(){var e=l()(["\n  mutation RejectPostFromPubMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      __typename\n      id\n      statusForCollection\n      collection {\n        id\n      }\n      pendingCollection {\n        id\n        slug\n      }\n    }\n  }\n"]);return u=function(){return e},e}function m(){var e=l()(["\n  mutation ManageCollectionPostStatusMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      __typename\n      id\n      statusForCollection\n      pendingCollection {\n        id\n        slug\n      }\n    }\n  }\n"]);return m=function(){return e},e}var p=(0,r.Ps)(m()),v=(0,r.Ps)(u()),k=function(e){var n=(0,s.D)(p),t=o()(n,1)[0];return(0,d.useCallback)((function(n){return t({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:c.Zj.PENDING},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:c.Zj.PENDING,pendingCollection:n}}})}),[e])},f=function(e){var n=(0,s.D)(p),t=o()(n,1)[0];return(0,d.useCallback)((function(n){return t({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:c.Zj.APPROVED}})}),[e])},g=function(e){var n=(0,s.D)(v),t=o()(n,1)[0];return(0,d.useCallback)((function(n){return t({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:c.Zj.REMOVED},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:null,collection:null,pendingCollection:null}}}).then((function(e){if(e.errors&&e.errors[0])throw e.errors[0];return e}))}),[e])}},46732:(e,n,t)=>{"use strict";t.d(n,{JP:()=>l});var i=t(319),o=t.n(i),a=t(70836),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ClapMutation_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVoteCount_post"}}]}}].concat(o()(a.U.definitions))};[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClapMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numClaps"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clap"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"numClaps"},value:{kind:"Variable",name:{kind:"Name",value:"numClaps"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_viewerEdge"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}]}}].concat(o()([{kind:"FragmentDefinition",name:{kind:"Name",value:"ClapMutation_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}}]}}]),o()(l.definitions))},36736:(e,n,t)=>{"use strict";t.d(n,{x:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useIsPinnedInContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}}]}}]}},48502:(e,n,t)=>{"use strict";t.d(n,{Zu:()=>h,n_:()=>b,KQ:()=>f,In:()=>g,PB:()=>y});var i=t(63038),o=t.n(i),a=t(21919),l=t(67294),r=t(28655),s=t.n(r),d=t(92471);function c(){var e=s()(["\n  mutation postSetPinnedByCreatorAt($postId: ID!, $isPinned: Boolean!) {\n    postSetPinnedByCreatorAt(targetPostId: $postId, isPinned: $isPinned) {\n      __typename\n      ... on Post {\n        id\n        pinnedByCreatorAt\n      }\n    }\n  }\n"]);return c=function(){return e},e}function u(){var e=s()(["\n  mutation setPinnedAt($postId: ID!, $collectionId: ID!, $pinnedAt: Boolean!) {\n    __typename\n    setPinnedAt(targetPostId: $postId, targetCollectionId: $collectionId, pinnedAt: $pinnedAt) {\n      __typename\n      ... on Post {\n        id\n        collection {\n          id\n        }\n        pendingCollection {\n          id\n        }\n        pinnedAt\n      }\n    }\n  }\n"]);return u=function(){return e},e}var m=(0,d.Ps)(u()),p=(0,d.Ps)(c()),v=t(92661),k=t(50458),f=function(e){var n=e.id,t=e.collection,i=e.pendingCollection,r=e.pinnedAt,s=(t||i||{id:""}).id,d=(0,a.D)(m,{optimisticResponse:{__typename:"Mutation",setPinnedAt:{__typename:"Post",id:n,collection:t,pendingCollection:i,pinnedAt:r?0:Date.now()}}}),c=o()(d,1)[0],u=l.useCallback((function(){return c({variables:{postId:n,collectionId:s,pinnedAt:!r}})}),[n,s,r,c]);return[r,u]},g=function(e){var n=e.id,t=e.pinnedByCreatorAt,i=(0,a.D)(p,{optimisticResponse:{postSetPinnedByCreatorAt:{__typename:"Post",id:n,pinnedByCreatorAt:t?0:Date.now()}}}),r=o()(i,1)[0],s=l.useCallback((function(){return r({variables:{postId:n,isPinned:!t}})}),[n,r,t]);return[t,s]},b=function(e,n){var t=f(e),i=o()(t,2),a=i[0],r=i[1],s=g(e),d=o()(s,2),c=d[0],u=d[1],m=l.useCallback((function(){return"Collection"===n?r():u()}),[n,r,u]);return["Collection"===n?a:c,m]},y=function(e,n){var t="Collection"===e.__typename?e.slug:null,i=(0,v.uk)();return"Collection"===e.__typename?i("ShowCollectionHome",{collectionSlug:t||void 0}):"User"===e.__typename&&e.username?(0,k.AWr)(e,n):""},h=function(e){switch(e.__typename){case"Collection":return"Publication";case"User":return"Author";default:return"Publisher"}}},75675:(e,n,t)=>{"use strict";t.d(n,{w:()=>l});var i=t(67294),o=t(80745),a=t(1383),l=function(e){var n=e.onConfirm,t=e.isVisible,l=e.hide,r=e.entityTypename,s=(0,o.Pm)(r);return i.createElement(a.Q,{onConfirm:n,isVisible:t,hide:l,titleText:"Hide responses",confirmText:"Confirm",isDestructiveAction:!1},"People will still be able to respond, but the link to see responses will not be displayed at the bottom of your ",s,".")}},74302:(e,n,t)=>{"use strict";t.d(n,{Q:()=>i,t:()=>o});var i="This story is also a response to another story. Are you sure you want to delete this story?",o="This story is also a response to another story. Any edits are applied to both."},6729:(e,n,t)=>{"use strict";t.d(n,{sC:()=>r,Yq:()=>d,OL:()=>c});var i=t(59713),o=t.n(i);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var r={FACEBOOK:"Facebook",TWITTER:"Twitter",LINKEDIN:"LinkedIn"},s=function(e){return{":hover path":{fill:e.baseColor.fill.darker},":focus path":{fill:e.baseColor.fill.darker}}},d=function(e){return l({"& path":{fill:e.baseColor.fill.normal}},s(e))},c=function(e){return l({"& path":{fill:e.baseColor.text.lighter},padding:"8px 2px"},s(e))}},88417:(e,n,t)=>{"use strict";t.d(n,{$:()=>k});var i=t(63038),o=t.n(i),a=t(67294),l=t(91583),r=t(77355),s=t(70310),d=t(61609),c=t(47230),u=t(93310),m=t(9935),p=t(20113),v=t(87691),k=function(e){var n=e.isVisible,t=e.hide,i=e.onSubmit,k=e.isResponse,f=a.useState(!1),g=o()(f,2),b=g[0],y=g[1],h=a.useState("Spam"),E=o()(h,2),S=E[0],C=E[1],N=a.useCallback((function(e,n){return C(n)}),[]),w="reportStoryTitle";return a.createElement(l.V,{isVisible:n,hide:t,noPortal:k,withCloseButton:!1,customBackgroundColor:k?"rgba(255, 255, 255, 0.97)":"rgba(255, 255, 255, 0.94)"},a.createElement(r.x,{height:"550px",width:k?"100%":"900px",background:k?"none":"white",borderRadius:"4px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:k?"none":"rgba(0, 0, 0, 0.15) 0px 2px 10px",padding:"18px",position:"relative",sm:{boxShadow:"none",background:"none"},xs:{boxShadow:"none",background:"none"}},a.createElement(r.x,{display:"flex",margin:"auto",flexDirection:"column",alignItems:k?"flex-start":"center"},a.createElement(p.X6,{scale:"M",ariaLabelledById:w},"Report ",k?"Response":"Story"),a.createElement(r.x,{display:"flex",flexDirection:"column",width:"100%",paddingRight:"5px",marginBottom:"30px"},a.createElement(r.x,{marginTop:"25px",marginBottom:"30px",padding:"5px 0"},a.createElement(s.E,{onChange:N,value:S,radioStyle:"SUBTLE",options:[{name:"Spam",value:"Spam"},{name:"Harassment",value:"Harassment"},{name:"Rules Violation",value:"Other"}],radioButtonsName:"reportStory",ariaLabelledBy:w})),a.createElement(d.X,{checked:b,onChange:function(){y(!b)}},a.createElement(r.x,{paddingTop:k?"16px":"0"},"Also block the author of this ",k?"response":"story"))),a.createElement(r.x,{display:"flex",justifyContent:"center",marginBottom:"10px"},a.createElement(r.x,{marginRight:"8px"},a.createElement(c.z,{onClick:t},"Cancel")),a.createElement(c.z,{buttonStyle:"ERROR",onClick:function(){i(b,S),t()}},"Report")),a.createElement(r.x,{marginTop:"50px",textAlign:k?"left":"center"},a.createElement(v.F,{scale:"M",tag:"div"},"Report"," ",a.createElement(u.r,{href:"https://medium.com/policy/mediums-copyright-and-dmca-policy-d126f73695",linkStyle:"OBVIOUS",target:"_blank",inline:!0},"copyright infringement")," ","or"," ",a.createElement(u.r,{href:"https://medium.com/policy/mediums-trademark-policy-e3bb53df59a7",linkStyle:"OBVIOUS",target:"_blank",inline:!0},"trademark infringement"),". ",!k&&a.createElement("br",null),"Read"," ",a.createElement(u.r,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",target:"_blank",inline:!0},"our rules"),"."))),!k&&a.createElement(m.P,{onClick:t,size:"LARGE",absoluteOffset:"18px"})))}},37774:(e,n,t)=>{"use strict";t.d(n,{z:()=>m});var i=t(63038),o=t.n(i),a=t(67294),l=t(6419),r=t(75880),s=t(38352),d=t(88417),c=t(93310),u=t(68894),m=function(e){var n=e.hidePopover,t=e.targetUserId,i=e.postId,m=e.viewerId,p=e.shouldShowShortenedCopy,v=void 0!==p&&p,k=(0,r.Pd)({id:t}).viewerEdge,f=!(null==k||!k.isBlocking),g=(0,u.O)(!1),b=o()(g,3),y=b[0],h=b[1],E=b[2];return a.createElement(a.Fragment,null,a.createElement(l.H,{targetAuthorId:t,targetPostId:i,isBlocking:f,onOptimisticComplete:function(){E(),n()},viewerId:m},(function(e){var n=e.mutate;return a.createElement(d.$,{onSubmit:n,isVisible:y,hide:E})})),a.createElement(s.Sl,null,a.createElement(c.r,{onClick:function(){h()}},v?"Report":"Report this story")))}},43303:(e,n,t)=>{"use strict";function i(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return r=e.done,e},e:function(e){s=!0,l=e},f:function(){try{r||null==t.return||t.return()}finally{if(s)throw l}}}}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}t.d(n,{B:()=>a});var a=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(){var e,t=i(n);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(e){t.e(e)}finally{t.f()}}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3496.cd0d34c4.chunk.js.map